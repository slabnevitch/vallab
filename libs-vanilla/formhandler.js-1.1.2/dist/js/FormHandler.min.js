/**
 * FormHandler 1.1.2
 * Powerful pure Javascript form validator with a feature of adding your own validations
 * https://github.com/IvanGrimes/formhandler.js
 *
 * Copyright 2018 Ivan Grimes
 *
 * Released under the MIT License
 *
 * Released on: August 26, 2018
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.FormHandler=e()}(this,function(){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e,s){return e&&i(t.prototype,e),s&&i(t,s),t}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t}).apply(this,arguments)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e,s){return(h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,s){var i=[null];i.push.apply(i,e);var n=new(Function.bind.apply(t,i));return s&&d(n,s.prototype),n}).apply(null,arguments)}function u(t){var s="function"==typeof Map?new Map:void 0;return(u=function(t){if(null===t)return null;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==s){if(s.has(t))return s.get(t);s.set(t,e)}function e(){return h(t,arguments,r(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),d(e,t)})(t)}function m(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var s=[],i=!0,n=!1,a=void 0;try{for(var o,c=t[Symbol.iterator]();!(i=(o=c.next()).done)&&(s.push(o.value),!e||s.length!==e);i=!0);}catch(t){n=!0,a=t}finally{try{i||null==c.return||c.return()}finally{if(n)throw a}}return s}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v={form:{block:".formhandler",submit:".formhandler__submit",delayForNotice:3e3,notice:{appendTo:".formhandler__notices",message:"This form seems to be invalid",successMessage:"Form was successfully sent",errorMessage:"Oops, something went wrong",classNames:{block:"formhandler__notice-form",hidden:"formhandler__notice-form--hidden",visible:"formhandler__notice-form--visible"}}},fields:{min:!1,max:!1,send:!0},notices:{appendTo:!1,nextToField:"before",message:!1},classNames:{notices:{block:"formhandler__notice",hidden:"formhandler__notice--hidden",visible:"formhandler__notice--visible"},form:{isValid:"formhandler--is-valid",isNotValid:"formhandler--is-not-valid"},fields:{isValid:"formhandler__field--is-valid",isNotValid:"formhandler__field--is-not-valid"}},sender:{send:!1,type:"xhr",clearFormOnSuccess:!0},callbacks:{onFieldChangeState:function(){},onFormChangeState:function(){},onSubmit:function(){},onSend:function(){}}},p=function(t){function e(t){return l(this,e),m(this,r(e).call(this,t))}return a(e,u(Error)),e}(),b=function(){function o(t){l(this,o),this.custom=t,this.custom&&this.addCustomValidations()}return e(o,[{key:"addCustomValidations",value:function(){return Object.entries(this.custom).forEach(function(t){var e=f(t,2),s=e[0],i=e[1];o.validations[s]=i}),this}}],[{key:"validate",value:function(t){var e=t.type,s=t.node,i=t.min,n=t.max;if(e){var a=o.validations[e];if(!a)throw new p("No handler to validate type ".concat(e));return a(s,i,n)}}}]),o}();n(b,"validations",{isCheckboxChecked:function(t,e,s){var i="At least one checkbox must be selected",n=!0,a=0;return t.forEach(function(t){t.checked&&(a+=1)}),e&&s&&(a<e&&(n=!1,i="Minimum ".concat(e,", maximum ").concat(s," checkboxes must be selected")),s<a&&(n=!1,i="Not more than ".concat(s," ").concat(1===s?"checkbox":"checkboxes"," must be selected"))),e&&!s&&a<e&&(n=!1,i="At least ".concat(e," ").concat(1===e?"checkbox":"checkboxes"," must be selected")),!e&&s&&(a||(i="Minimum 1, maximum ".concat(s," checkboxes must be selected")),s<a&&(n=!1,i="Not more than ".concat(s," ").concat(1===s?"checkbox":"checkboxes"," must be selected"))),e||s||a||(n=!1,i="At least one checkbox must be selected"),{valid:n,message:i}},isRadioChecked:function(t){return{valid:Array.from(t).some(function(t){return!0===t.checked}),message:"Please select one of the buttons"}},isSelected:function(t){return{valid:Array.from(t.options).filter(function(t){return 0<t.value.length}).some(function(t){return!0===t.selected}),message:"Please select one of the options"}},isName:function(t,e,s){var i=/^[a-zA-Z]+$/.test(t.value),n="Must contain only letters",a=t.value.trim().length;return e&&s&&(a<e&&(i=!1,n="Must contain at least ".concat(e," ").concat(1===e?"letter":"letters"," but not more than ").concat(s)),s<a&&(i=!1,n="Must contain not more than ".concat(s," ").concat(1===s?"letter":"letters"))),e&&!s&&a<e&&(i=!1,n="Must contain at least ".concat(e," ").concat(1===e?"letter":"letters")),!e&&s&&(a||(n="Must contain at least 1 letter but not more than ".concat(s)),s<a&&(i=!1,n="Must contain not more than ".concat(s," ").concat(1===s?"letter":"letters"))),e||s||a||(i=!1,n="Must contain at least one letter"),{valid:i,message:n}},isEmail:function(t){return{valid:/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(t.value),message:"Must be a valid email address"}},isPhone:function(t,e,s){var i=t.value.trim().length,n=/^[+]?[\s./0-9]*[(]?[0-9]{1,4}[)]?[-\s./0-9]*$/g.test(t.value),a="Must be a valid phone number";return e&&s&&(i<e&&(n=!1,a="Must contain at least ".concat(e," ").concat(1===e?"digit":"digits"," but not more than ").concat(s)),s<i&&(n=!1,a="Must contain not more than ".concat(s," ").concat(1===s?"digit":"digits"))),e&&!s&&i<e&&(n=!1,a="Must contain at least ".concat(e," ").concat(1===e?"digit":"digits")),!e&&s&&(i||(a="Must contain at least 1 digit but not more than ".concat(s)),s<i&&(n=!1,a="Must contain not more than ".concat(s," ").concat(1===s?"digit":"digits"))),{valid:n,message:a}},isNonEmpty:function(t,e,s){var i=t.value.trim().length,n=0<i,a="Must contain at least one character";return e&&s&&(i<e&&(n=!1,a="Must contain at least ".concat(e," ").concat(1===e?"character":"characters"," but not more than ").concat(s)),s<i&&(n=!1,a="Must contain not more than ".concat(s," ").concat(1===s?"character":"characters"))),e&&!s&&i<e&&(n=!1,a="Must contain at least ".concat(e," ").concat(1===e?"character":"characters")),!e&&s&&(i||(a="Must contain at least 1 character but not more than ".concat(s)),s<i&&(n=!1,a="Must contain not more than ".concat(s," ").concat(1===s?"character":"characters"))),{valid:n,message:a}}});var y="input",N="success",g="error",k="object",F="checkbox",S="radio",O="NodeList",x=function(){function s(t){var e=c({},t);l(this,s),this.node=e.node,this.submit=e.submit,this.classNames=e.classNames,this.fields=e.fields,this.listener=e.listener,this.valid=null,this.submitted=!1,this.sent=null,this.callback=e.callback,this.submit.addEventListener("click",this.listener)}return e(s,[{key:"setState",value:function(){var t=this.fieldsValidity;this.callback(this.node,this.valid,t),this.valid=t,this.submitted&&this.toggleClassNames()}},{key:"toggleClassNames",value:function(){this.valid?(this.node.classList.remove(this.classNames.isNotValid),this.node.classList.add(this.classNames.isValid)):(this.node.classList.remove(this.classNames.isValid),this.node.classList.add(this.classNames.isNotValid))}},{key:"clear",value:function(){Object.entries(this.fields).forEach(function(t){var e=f(t,2);e[0];e[1].clear()}),this.callback(this.node,this.valid,!1),this.valid=!1,this.submitted=!1,this.node.classList.remove(this.classNames.isNotValid),this.node.classList.remove(this.classNames.isValid)}},{key:"fieldsValidity",get:function(){var i=new Set;return Object.entries(this.fields).forEach(function(t){var e=f(t,2),s=(e[0],e[1]);s.validation&&i.add(s.valid)}),!i.has(!1)}}]),s}(),L=function(){function r(t){var e=t.node,s=t.validation,i=t.min,n=t.max,a=t.send,o=t.classNames,c=t.callback;l(this,r),this.node=e,this.type=this.node.constructor.name,this.name=this.type===O?this.node[0].name:this.node.name,this.validation=s,this.send=a,this.min=i,this.max=n,this.classNames=o,this.valid=null,this.submitted=!1,this.callback=c}return e(r,[{key:"setState",value:function(t){this.callback(this.validation,this.name,this.node,this.valid,t),this.valid=t,this.submitted&&this.toggleClassNames()}},{key:"setFieldSubmitted",value:function(t){this.submitted=t}},{key:"on",value:function(e,s){this.type===O?this.node.forEach(function(t){return t.addEventListener(e,s)}):this.node.addEventListener(e,s)}},{key:"off",value:function(e,s){this.type===O?this.node.forEach(function(t){return t.removeEventListener(e,s)}):this.node.removeEventListener(e,s)}},{key:"remove",value:function(){this.node.remove()}},{key:"validatorOptions",get:function(){return{type:this.validation,node:this.node,min:this.min,max:this.max}}}]),r}(),j=function(t){function s(t){var e=c({},t);return l(this,s),m(this,r(s).call(this,Object.assign({},e)))}return a(s,L),e(s,[{key:"toggleClassNames",value:function(){this.valid?(this.node.classList.remove(this.classNames.isNotValid),this.node.classList.add(this.classNames.isValid)):(this.node.classList.remove(this.classNames.isValid),this.node.classList.add(this.classNames.isNotValid))}},{key:"clear",value:function(){this.callback(this.validation,this.name,this.node,this.valid,!1),this.node.value="",this.valid=!1,this.submitted=!1,this.node.classList.remove(this.classNames.isNotValid),this.node.classList.remove(this.classNames.isValid)}}]),s}(),V=function(t){function s(t){var e=c({},t);return l(this,s),m(this,r(s).call(this,Object.assign({},e)))}return a(s,L),e(s,[{key:"toggleClassNames",value:function(){var e=this;this.valid?(this.node.forEach(function(t){return t.classList.remove(e.classNames.isNotValid)}),this.node.forEach(function(t){return t.classList.add(e.classNames.isValid)})):(this.node.forEach(function(t){return t.classList.remove(e.classNames.isValid)}),this.node.forEach(function(t){return t.classList.add(e.classNames.isNotValid)}))}},{key:"clear",value:function(){var e=this;this.callback(this.validation,this.name,this.node,this.valid,!1),this.valid=!1,this.submitted=!1,this.node.forEach(function(t){return t.classList.remove(e.classNames.isValid)}),this.node.forEach(function(t){return t.classList.remove(e.classNames.isNotValid)}),this.node.forEach(function(t){t.checked=!1})}}]),s}(),w=function(t){function s(t){var e=c({},t);return l(this,s),m(this,r(s).call(this,Object.assign({},e)))}return a(s,L),e(s,[{key:"toggleClassNames",value:function(){this.valid?(this.node.classList.remove(this.classNames.isNotValid),this.node.classList.add(this.classNames.isValid)):(this.node.classList.remove(this.classNames.isValid),this.node.classList.add(this.classNames.isNotValid))}},{key:"clear",value:function(){this.callback(this.validation,this.name,this.node,this.valid,!1),this.valid=!1,this.submitted=!1,this.node.classList.remove(this.classNames.isValid),this.node.classList.remove(this.classNames.isNotValid),Array.from(this.node.options).forEach(function(t){t.selected=!1})}}]),s}(),E=function(t){function s(t){var e=c({},t);return l(this,s),m(this,r(s).call(this,Object.assign({},e)))}return a(s,L),e(s,[{key:"toggleClassNames",value:function(){this.valid?(this.node.classList.remove(this.classNames.isNotValid),this.node.classList.add(this.classNames.isValid)):(this.node.classList.remove(this.classNames.isValid),this.node.classList.add(this.classNames.isNotValid))}},{key:"clear",value:function(){this.callback(this.validation,this.name,this.node,this.valid,!1),this.node.value="#000000",this.valid=!1,this.submitted=!1,this.node.classList.remove(this.classNames.isNotValid),this.node.classList.remove(this.classNames.isValid)}}]),s}(),T=function(){function c(t){var e=t.form,s=t.message,i=t.classNames,n=t.appendTo,a=t.nextToField,o=t.parent;l(this,c),this.form=e,this.message=s,this.classNames=i,this.appendTo=n,this.nextToField=a,this.parent=o,this.node=null,this.mount()}return e(c,[{key:"mount",value:function(){this.node=document.createElement("div"),this.node.classList.add(this.classNames.block),this.node.classList.add(this.classNames.hidden),this.appendTo?this.parent.appendChild(this.node):("before"===this.nextToField&&(this.parent.constructor.name===O&&(this.parent=this.parent[0]),this.parent.parentElement.insertBefore(this.node,this.parent)),"after"===this.nextToField&&(this.parent.constructor.name===O&&(this.parent=this.parent[this.parent.length-1]),this.parent.parentElement.insertBefore(this.node,this.parent.nextElementSibling)))}},{key:"show",value:function(){this.node.classList.remove(this.classNames.hidden),this.node.classList.add(this.classNames.visible),this.node.innerText=this.message}},{key:"hide",value:function(){this.node.classList.remove(this.classNames.visible),this.node.classList.add(this.classNames.hidden)}},{key:"remove",value:function(){this.node.remove()}}]),c}(),M=function(){function r(t){var e=t.type,s=t.url,i=t.method,n=t.data,a=t.fields,o=t.form,c=t.callbacks;l(this,r),this.type=e,this.url=s,this.method=i,this.data=n(),this.fields=a,this.form=o,this.callbacks=c}return e(r,[{key:"makeData",value:function(){var n=this,a=new FormData;return Object.entries(this.data).forEach(function(t){var e=f(t,2),s=e[0],i=e[1];n.fields[s].send&&a.append(s,i)}),a}},{key:"sendRequest",value:function(t){var e=this;if("xhr"===this.type){var s=new XMLHttpRequest;s.open(this.method,this.url,!0),s.addEventListener("readystatechange",function(t){if(4===t.target.readyState){if(!(200<=t.target.status&&t.target.status<400))throw e.callbacks.setFormState(g),e.callbacks.onSend(g),new p("Status: ".concat(t.target.status,", Text: ").concat(t.target.statusText));e.callbacks.setFormState(N),e.callbacks.onSend(N)}}),s.send(t)}"fetch"===this.type&&fetch(this.url,{method:this.method,body:t}).then(function(t){if(!(200<=t.status&&t.status<400))throw e.callbacks.setFormState(g),e.callbacks.onSend(g),new p("Status: ".concat(t.status,", Text: ").concat(t.statusText));e.callbacks.setFormState(N),e.callbacks.onSend(N)})}}]),r}();return function(){function s(t){var a=this,e=c({},t);l(this,s),n(this,"setFormStateFromResponse",function(t){t===N&&(a.notices.form.message=a.opts.form.notice.successMessage,a.form.sent=!0,a.opts.sender.clearFormOnSuccess&&a.form.clear()),t===g&&(a.notices.form.message=a.opts.form.notice.errorMessage,a.form.sent=!1),a.notices.form.show()}),n(this,"inputHandler",function(t){var e=t.target.name,s=b.validate(a.fields[e].validatorOptions);a.fields[e].validation&&(a.setFieldState(e,s.valid,s.message),o(s.valid)!==k&&a.form.setState())}),n(this,"submitHandler",function(t){t.preventDefault();var i=[],e=a.opts.form.delayForNotice;if(Object.entries(a.fields).forEach(function(t){var e=f(t,2),s=(e[0],e[1]);s.setFieldSubmitted(!0),i.push(s.node)}),a.callbacks.onSubmit(a.form.node,i),a.validateForm(),a.notices.form.message=a.opts.form.notice.message,a.form.valid){if(a.notices.form.hide(),a.opts.sender.send){var s={type:a.opts.sender.type,url:a.form.node.action,method:a.form.node.method,data:a.getFieldsAndValues,fields:a.fields,form:a.form.node,callbacks:{setFormState:a.setFormStateFromResponse,onSend:a.callbacks.onSend}},n=new M(s);n.sendRequest(n.makeData()),setTimeout(function(){a.notices.form.hide()},e)}}else a.notices.form.show(),e&&setTimeout(function(){a.notices.form.hide()},e)}),n(this,"getFieldsAndValues",function(){var o={};return Object.entries(a.fields).forEach(function(t){var e=f(t,2),s=e[0],i=e[1],n=i.node.constructor.name;if(n===O){var a=i.node[0].type;a===F&&(o[s]=[],Array.from(i.node).forEach(function(t){t.checked&&o[s].push(t.value)})),a===S&&(o[s]="",Array.from(i.node).forEach(function(t){t.checked&&(o[s]=t.value)}))}else o[s]="HTMLSelectElement"===n?i.node.options[i.node.options.selectedIndex].value:i.node.value}),o}),this.opts=e,this.fields={},this.notices={},this.form=null,this.validator=new b(this.opts.customValidations),this.callbacks={},this.init()}return e(s,[{key:"init",value:function(){var a=this;return this.complementOptions().makeForm(),Object.entries(this.opts.fields).forEach(function(t){var e=f(t,2),s=e[0],i=e[1];if(a.makeField(s,i),i.validation){var n=b.validate(a.fields[s].validatorOptions);a.makeNotice(s,i.notice),a.setFieldState(s,n.valid,n.message)}}),this.form.setState(),this}},{key:"complementOptions",value:function(){var i=this;return this.opts.classNames=this.opts.classNames?Object.assign({},v.classNames,this.opts.classNames):v.classNames,this.opts.classNames.form=Object.assign({},v.classNames.form,this.opts.classNames.form),this.opts.classNames.fields=Object.assign({},v.classNames.fields,this.opts.classNames.fields),this.opts.classNames.notices=Object.assign({},v.classNames.notices,this.opts.classNames.notices),this.opts.form=this.opts.form?Object.assign({},v.form,this.opts.form):v.form,this.opts.form.notice=Object.assign({},v.form.notice,this.opts.form.notice),this.opts.form.notice.classNames=Object.assign({},this.opts.classNames.notice,this.opts.form.notice.classNames),this.opts.notices=Object.assign({},v.notices,this.opts.notices),Object.entries(this.opts.fields).forEach(function(t){var e=f(t,2),s=e[0];e[1];i.opts.fields[s]=Object.assign({},v.fields,i.opts.fields[s]),i.opts.fields[s].classNames=i.opts.fields[s].classNames?Object.assign({},i.opts.classNames.fields,i.opts.fields[s].classNames):i.opts.classNames.fields,i.opts.fields[s].notice=Object.assign({},i.opts.notices,i.opts.fields[s].notice),i.opts.fields[s].notice.classNames=Object.assign({},i.opts.classNames.notices,i.opts.fields[s].notice.classNames)}),this.opts.sender=this.opts.sender?Object.assign({},v.sender,this.opts.sender):v.sender,this.callbacks=this.opts.callbacks?Object.assign({},v.callbacks,this.opts.callbacks):v.callbacks,this}},{key:"makeForm",value:function(){var t={fields:this.fields,classNames:this.opts.classNames.form,node:document.querySelector(this.opts.form.block),submit:document.querySelector(this.opts.form.submit),listener:this.submitHandler,callback:this.callbacks.onFormChangeState};return this.form=new x(t),this.makeNotice("form",this.opts.form.notice),this}},{key:"makeField",value:function(t,e){var s=this.form.node.querySelector("[name=".concat(t,"]")),i=s.type,n={node:s,validation:e.validation,min:e.min,max:e.max,send:e.send,classNames:e.classNames,callback:this.callbacks.onFieldChangeState};return i===S||i===F?(s=this.form.node.querySelectorAll("[name=".concat(t,"]")),n.node=s,this.fields[t]=new V(n)):this.fields[t]="select-one"===i?new w(n):"color"===i?new E(n):new j(n),this.fields[t].on(y,this.inputHandler),this}},{key:"makeNotice",value:function(t,e){var s=!!this.fields[t]&&b.validate(this.fields[t].validatorOptions).message,i=e.nextToField?this.fields[t].node:document.querySelector(e.appendTo),n={form:this.form.node,classNames:e.classNames,appendTo:e.appendTo,message:e.message||s,nextToField:e.nextToField,parent:i};return this.notices[t]=new T(n),this}},{key:"setFieldStateFromResponse",value:function(t,e,s,i){var n=this;"undefined"!==o(t.then)?t.then(function(t){return t.json()}).then(function(t){n.setFieldState(s,!!t[e],i),n.form.setState()}):t.addEventListener("load",function(t){n.setFieldState(s,!!JSON.parse(t.target.response)[e],i),n.form.setState()})}},{key:"setFieldState",value:function(t,e){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.notices[t].message,i=this.fields[t].submitted;return o(e)===k?this.setFieldStateFromResponse(e.response,e.property,t,s):this.fields[t].setState(e),this.notices[t].message=this.opts.fields[t].notice.message||s,!e&&i?this.notices[t].show():this.notices[t].hide(),this}},{key:"getFieldNameBy",value:function(t){var e,s=o(t),i=t.name,n=this.form.node;(s===k&&(e=i),"string"===s)&&(e=/\./.test(t)?n.querySelector(t).name:t);return e}},{key:"isFieldValid",value:function(t){return this.fields[this.getFieldNameBy(t)].valid}},{key:"getFieldValue",value:function(t){return this.fields[this.getFieldNameBy(t)].node.value}},{key:"isFormValid",value:function(){return this.form.valid}},{key:"isFormSubmitted",value:function(){return this.form.submitted}},{key:"isFormSent",value:function(){return this.form.sent}},{key:"clearForm",value:function(){this.form.clear()}},{key:"clearField",value:function(t){this.fields[this.getFieldNameBy(t)].clear(),this.form.setState()}},{key:"getField",value:function(t){return this.fields[this.getFieldNameBy(t)].node}},{key:"addField",value:function(t,e){var s=c({},e);s.notice=s.notice?s.notice:{};var i=this.getFieldNameBy(t),n={validation:s.validation,min:s.min||v.fields.min,max:s.max||v.fields.max,send:s.send||v.fields.send,classNames:Object.assign({},this.opts.classNames.fields,s.classNames)},a={appendTo:s.notice.appendTo||v.notices.appendTo,nextToField:s.notice.nextToField||v.notices.nextToField,message:s.notice.message||v.notices.message,classNames:Object.assign({},this.opts.classNames.notices,s.notice.classNames)};return this.opts.fields[i]=Object.assign({},n,{notice:a}),this.makeField(i,this.opts.fields[i]),this.fields[i].on(y,this.inputHandler),this.makeNotice(i,this.opts.fields[i].notice),this.fields[i].node}},{key:"removeField",value:function(t){var e=this.getFieldNameBy(t);this.fields[e].remove(),this.notices[e].remove()}},{key:"validateField",value:function(t){var e=this.getFieldNameBy(t);if(this.fields[e].validation){var s=b.validate(this.fields[e].validatorOptions);this.fields[e].submitted=!0,this.setFieldState(e,s.valid)}return this.form.setState(),this.fields[e].node}},{key:"validateForm",value:function(){var a=this;return Object.entries(this.fields).forEach(function(t){var e=f(t,2),s=e[0],i=e[1];if(i.validation){var n=b.validate(i.validatorOptions);i.setFieldSubmitted(!0),a.setFieldState(s,n.valid,n.message)}}),this.form.submitted=!0,this.form.setState(),this.form.node}}]),s}()});
//# sourceMappingURL=formhandler.min.js.map
